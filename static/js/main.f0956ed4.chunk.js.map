{"version":3,"sources":["settings.js","apiFacade.jsx","components/Login.jsx","components/Welcome.jsx","components/Admin.jsx","components/ShowRoles.jsx","components/getJokes.jsx","App.js","index.js"],"names":["localURL","handleHttpErrors","res","ok","json","Promise","reject","status","fullError","returnVal","makeOptions","method","addToken","body","opts","headers","Accept","getToken","JSON","stringify","localStorage","getItem","login","user","pass","setRoles","options","username","password","fetch","URL","then","token","setItem","jwtData","split","decodedJwtJsonData","window","atob","parse","roles","getRole","logout","removeItem","fetchGetData","endpoint","value","ApiFacade","LogIn","message","useState","setUser","onChange","evt","target","id","onSubmit","preventDefault","placeholder","type","className","LoggedIn","to","Welcome","rel","href","acceptable_categories","AdminPage","category","setCategory","count","setCount","Dropdown","Toggle","variant","Menu","map","element","index","Item","key","onClick","Button","facade","console","log","catch","err","e","code","AdminPanel","loggedIn","includes","Show","prettyRoles","replace","toUpperCase","career","celebrity","dev","explicit","fashion","food","history","money","movie","music","political","science","sport","travel","GetJokes","categories","setCategories","jokes","setJokes","handleChange","name","Object","keys","validCategories","forEach","push","length","myCategories","Table","joke","NoMatch","Header","setLoggedIn","exact","activeClassName","LogInScreen","setMessage","ShowRoles","App","path","component","WelcomePage","render","Admin","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f0956ed4.chunk.js","sourcesContent":["//This file contains the URLs used in the application\n//Whenever you need an URL to access an endpoint, add it in here\n//and import this file whereever you need the URL\n\nexport const localURL = \"http://localhost:8080/exam\";\nexport const onlineURL = \"https://maltemagnussen.com/exam\";\n","//Change this before deployment (production)\nimport { localURL as URL } from \"./settings.js\";\nfunction handleHttpErrors(res) {\n  if (!res.ok) {\n    return Promise.reject({ status: res.status, fullError: res.json() });\n  }\n  return res.json();\n}\n\nconst ApiFacade = () => {\n  //Insert utility-methods from a latter step (d) here\n  function makeOptions(method, addToken, body) {\n    var opts = {\n      method: method,\n      headers: {\n        \"Content-type\": \"application/json\",\n        Accept: \"application/json\"\n      }\n    };\n    if (addToken && loggedIn()) {\n      opts.headers[\"x-access-token\"] = getToken();\n    }\n    if (body) {\n      opts.body = JSON.stringify(body);\n    }\n    return opts;\n  }\n\n  function setToken(token) {\n    localStorage.setItem(\"jwtToken\", token);\n  }\n\n  function getToken() {\n    return localStorage.getItem(\"jwtToken\");\n  }\n\n  function loggedIn() {\n    const loggedIn = getToken() != null;\n    return loggedIn;\n  }\n\n  // const fetchSwapi = () => {\n  //   //Remember to always include options from the makeOptions fucntion with >true< as the second parameter\n  //   //if you want to access a protected endpoint\n  //   const options = makeOptions(\"GET\", true); //True add's the token\n  //   return fetch(URL + \"/api/info/five\", options).then(handleHttpErrors);\n  // };\n\n  const fetchGetData = (endpoint, value) => {\n    const options = makeOptions(\"GET\", true); //True add's the token\n    return fetch(URL + `/api/${endpoint}/${value}`, options).then(\n      handleHttpErrors\n    );\n  };\n\n  const getRole = () => {\n    let jwt = localStorage.getItem(\"jwtToken\");\n    let jwtData = jwt.split(\".\")[1];\n    let decodedJwtJsonData = window.atob(jwtData);\n    let decodedJwtData = JSON.parse(decodedJwtJsonData);\n    return decodedJwtData.roles;\n  };\n\n  const login = (user, pass, setRoles) => {\n    const options = makeOptions(\"POST\", true, {\n      username: user,\n      password: pass\n    });\n    return fetch(URL + \"/api/login\", options)\n      .then(handleHttpErrors)\n      .then(res => {\n        setToken(res.token);\n        setRoles(getRole());\n      });\n  };\n\n  const logout = () => {\n    localStorage.removeItem(\"jwtToken\");\n  };\n\n  return {\n    login,\n    logout,\n    fetchGetData\n  };\n};\n\nlet returnVal = ApiFacade();\nexport default returnVal;\n","import React, { useState, useEffect } from \"react\";\nimport facade from \"../apiFacade\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Link } from \"react-router-dom\";\n\nexport const LogIn = ({ login, message }) => {\n  const [user, setUser] = useState({ username: \"\", password: \"\" });\n\n  function log_in(evt) {\n    evt.preventDefault();\n    login(user.username, user.password);\n  }\n\n  const onChange = evt => {\n    setUser({ ...user, [evt.target.id]: evt.target.value });\n  };\n\n  return (\n    <div>\n      <h2>Login</h2>\n      <form onSubmit={log_in}>\n        <input placeholder=\"User Name\" id=\"username\" onChange={onChange} />{\" \"}\n        <input\n          placeholder=\"Password\"\n          id=\"password\"\n          type=\"password\"\n          onChange={onChange}\n        />{\" \"}\n        <button className=\"btn btn-primary\">Login</button>\n        <br></br>\n        <p>{message}</p>\n      </form>\n    </div>\n  );\n};\n\nexport const LoggedIn = () => {\n\n  return (\n    <>\n      <h2>You are now logged in</h2>\n      <Link to=\"/search\">Searching tool</Link>\n      <br></br>\n      <br></br>\n    </>\n  );\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"../Welcome.css\";\n\nconst Welcome = () => {\n  return (\n    <>\n      <h1>Welcome Page</h1>\n      <h6>\n        <ins>After</ins> having set up the backend:\n      </h6>\n      <ol>\n        <li>\n          <code>npm install</code>\n        </li>\n        <li>\n          <code>npm start</code>\n        </li>\n      </ol>\n      <h6>Common issues:</h6>\n      <ul>\n        <li>\n          <code>npm audit fix --force</code>\n        </li>\n      </ul>\n      <h6>File overview</h6>\n      <label>\n        <i>src/components</i>\n      </label>\n      <br />\n      <ul className=\"border border-secondary customBorder\">\n        <li>\n          <code>Welcome.jsx</code> - Where you are\n        </li>\n        <li>\n          <code>Swapi.jsx</code> - Handles fetch call to the backend (Using\n          <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://swapi.co/\">\n            {\" \"}\n            https://swapi.co/\n          </a>\n          )\n        </li>\n        <li>\n          <code>Login.jsx</code> - Handles login\n        </li>\n      </ul>\n      <br />\n      <label>\n        <i>src/</i>\n      </label>\n      <br />\n      <ul className=\"border border-secondary customBorder\">\n        <li>\n          <code>apiFacade.jsx</code> - Utility to help with fetching,\n          login/logout\n        </li>\n        <li>\n          <code>App.js</code> - Main component, handles routes &{\" \"}\n          <code>loggedIn</code>\n        </li>\n        <li>\n          <code>index.js</code> - Render component\n        </li>\n        <li>\n          <code>settings.js</code> - Holds global settings, such as fetch URLs\n        </li>\n\n        <span>\n          <i>CSS files</i>\n        </span>\n      </ul>\n      <p>\n        <Link to=\"#/login\">Login</Link> using the credentials you set in the\n        backend <code>utils\\SetupTestUsers.java</code>\n      </p>\n    </>\n  );\n};\n\nexport default Welcome;\n","import React, { useState } from \"react\";\nimport facade from \"../apiFacade.jsx\";\nimport { Dropdown, Button } from \"react-bootstrap\";\n\nconst acceptable_categories = [\n  \"career\",\n  \"celebrity\",\n  \"dev\",\n  \"explicit\",\n  \"fashion\",\n  \"food\",\n  \"history\",\n  \"money\",\n  \"movie\",\n  \"music\",\n  \"political\",\n  \"science\",\n  \"sport\",\n  \"travel\"\n];\n\nconst AdminPanel = ({ loggedIn, roles }) => {\n  if (!loggedIn || !roles.includes(\"admin\")) {\n    return (\n      <>\n        <p>You are not logged in as admin</p>\n      </>\n    );\n  } else {\n    return (\n      <>\n        <AdminPage />\n      </>\n    );\n  }\n};\n\nconst AdminPage = () => {\n  const [category, setCategory] = useState();\n  const [count, setCount] = useState();\n\n  const submitHandler = () => {\n    facade\n      .fetchGetData(\"categoryCount\", category)\n      .then(res => {\n        setCount(res);\n        console.log(res);\n      })\n      .catch(err => {\n        if (err.status) {\n          err.fullError.then(e => {\n            console.log(e.code, e.message);\n          });\n        } else {\n          console.log(\"Network error\");\n        }\n      });\n  };\n\n  return (\n    <>\n      <br />\n      <Dropdown>\n        <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n          Select Category.\n        </Dropdown.Toggle>\n        <Dropdown.Menu>\n          {acceptable_categories.map((element, index) => {\n            return (\n              <Dropdown.Item\n                value={element}\n                key={index}\n                onClick={() => setCategory(element)}\n              >\n                {element}\n              </Dropdown.Item>\n            );\n          })}\n        </Dropdown.Menu>\n      </Dropdown>\n      <br />\n      Click submit to get count of requests made in that category <br />\n      <Button type=\"button\" className=\"btn-primary\" onClick={submitHandler}>\n        Submit\n      </Button>\n      <br />\n      Amount of requests made for {category} is:{\" \"}\n      {count && count.count && count.count}.\n    </>\n  );\n};\n\nexport default AdminPanel;\n","import React from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nconst Show = ({ roles }) => {\n    let prettyRoles = roles;\n    prettyRoles = prettyRoles.replace(/\\[|\\]|\\\"/g, '').replace(',', ' & ').toUpperCase();\n\n    return (\n        <p>Permission: {prettyRoles}</p>\n    );\n};\n\nexport default Show;","import React, { useState } from \"react\";\nimport { Button, Table } from \"react-bootstrap\";\nimport facade from \"../apiFacade.jsx\";\n\nconst acceptable_categories = {\n  career: false,\n  celebrity: false,\n  dev: false,\n  explicit: false,\n  fashion: false,\n  food: false,\n  history: false,\n  money: false,\n  movie: false,\n  music: false,\n  political: false,\n  science: false,\n  sport: false,\n  travel: false\n};\nconst GetJokes = ({ loggedIn }) => {\n  const [categories, setCategories] = useState(acceptable_categories);\n  const [jokes, setJokes] = useState({});\n\n  const handleChange = e => {\n    const name = e.target.value;\n    setCategories({ ...categories, [name]: !categories[name] });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    const validCategories = [];\n\n    Object.keys(categories).forEach(category => {\n      if (categories[category] == true) validCategories.push(category);\n    });\n\n    if (!loggedIn && validCategories.length > 4) {\n      return;\n    }\n\n    const myCategories = validCategories.map((element, index) => {\n      if (index == 0) return element;\n      return element;\n    });\n\n    let URL = loggedIn => {\n      if (loggedIn) {\n        return \"jokeByCategoryV2\";\n      } else {\n        return \"jokeByCategory\";\n      }\n    };\n\n    facade\n      .fetchGetData(URL(loggedIn), myCategories)\n      .then(res => {\n        setJokes(res);\n        console.log(res);\n      })\n      .catch(err => {\n        if (err.status) {\n          err.fullError.then(e => {\n            console.log(e.code, e.message);\n          });\n        } else {\n          console.log(\"Network error\");\n        }\n      });\n  };\n\n  return (\n    <>\n      <br />\n      <div>\n        <h3> Select jokes </h3>\n        <h5> {!loggedIn && \"You may only select 4 categories.\"} </h5>\n        <form>\n          {Object.keys(categories).map((e, index) => {\n            return (\n              <div key={index}>\n                <input type=\"checkbox\" value={e} onChange={handleChange} />\n                {e}\n              </div>\n            );\n          })}\n          <Button type=\"button\" className=\"btn-primary\" onClick={handleSubmit}>\n            Submit\n          </Button>\n        </form>\n      </div>\n      <div>\n        <br />\n        <Table>\n          <thead>\n            <tr>\n              <th>Category</th>\n              <th>Joke</th>\n            </tr>\n          </thead>\n          <tbody>\n            {jokes &&\n              jokes.jokes &&\n              jokes.jokes.map((element, index) => {\n                return (\n                  <tr key={index}>\n                    <td>{element.category}</td>\n                    <td>{element.joke}</td>\n                  </tr>\n                );\n              })}\n          </tbody>\n        </Table>\n      </div>\n    </>\n  );\n};\n\nexport default GetJokes;\n","import React, { useState, useEffect } from \"react\";\nimport facade from \"./apiFacade\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { LogIn, LoggedIn } from \"./components/Login.jsx\";\nimport WelcomePage from \"./components/Welcome.jsx\";\nimport Admin from \"./components/Admin.jsx\";\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  NavLink,\n  useParams,\n  useRouteMatch,\n  Link,\n  Prompt\n} from \"react-router-dom\";\nimport ShowRoles from \"./components/ShowRoles.jsx\";\nimport Jokes from \"./components/getJokes.jsx\";\n\nconst App = () => {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [roles, setRoles] = useState([]);\n  return (\n    <>\n      <Router>\n        <Header\n          loggedIn={loggedIn}\n          setLoggedIn={setLoggedIn}\n          roles={roles}\n          setRoles={setRoles}\n        />\n        <div className=\"container\">\n          <Switch>\n            <Route exact path=\"/\" component={WelcomePage} />\n            <Route\n              path=\"/login\"\n              render={() => (\n                <LogInScreen\n                  loggedIn={loggedIn}\n                  setLoggedIn={setLoggedIn}\n                  roles={roles}\n                  setRoles={setRoles}\n                />\n              )}\n            />\n            <Route path=\"/admin\">\n              <Admin loggedIn={loggedIn} roles={roles} />\n            </Route>\n            <Route path=\"/Jokes\">\n              <Jokes loggedIn={loggedIn} />\n            </Route>\n            <Route component={NoMatch} />\n          </Switch>\n        </div>\n      </Router>\n    </>\n  );\n};\n\nconst NoMatch = () => (\n  <div>You're trying to access a resource that doesn't exist.</div>\n);\n\nconst Header = ({ loggedIn, setLoggedIn, roles, setRoles }) => {\n  return (\n    <ul className=\"header\">\n      <li>\n        <NavLink exact activeClassName=\"active\" to=\"/\">\n          Home\n        </NavLink>\n      </li>\n\n      {/*Login / logout start*/}\n      {!loggedIn ? (\n        <li>\n          <NavLink activeClassName=\"active\" to=\"/login\">\n            Login\n          </NavLink>\n        </li>\n      ) : (\n        <li>\n          <NavLink\n            onClick={() => {\n              setLoggedIn(false);\n              facade.logout();\n              setRoles([]);\n            }}\n            to=\"/login\"\n          >\n            Log out\n          </NavLink>\n        </li>\n      )}\n      {/*Login / logout end*/}\n      <li>\n        <NavLink to=\"/Jokes\">Jokes</NavLink>\n      </li>\n      {loggedIn && roles.includes(\"admin\") && (\n        <li>\n          <NavLink to=\"/admin\">Admin panel</NavLink>\n        </li>\n      )}\n    </ul>\n  );\n};\n\nconst LogInScreen = ({ loggedIn, setLoggedIn, roles, setRoles }) => {\n  const [message, setMessage] = useState(\"\");\n  const login = (user, pass) => {\n    facade\n      .login(user, pass, setRoles)\n      .then(res => {\n        setMessage(\"\");\n        setLoggedIn(true);\n      })\n      .catch(err => {\n        if (err.status) {\n          setMessage(\"Failed to log in, check your information\");\n          err.fullError.then(e => console.log(e.code, e.message));\n        } else {\n          console.log(\"Network error\");\n        }\n      });\n  };\n\n  return (\n    <div>\n      {!loggedIn ? (\n        <LogIn login={login} message={message} />\n      ) : (\n        <div>\n          {roles.length && (\n            <>\n              <ShowRoles roles={roles} />\n              <LoggedIn />\n            </>\n          )}\n        </div>\n      )}\n      <br></br>\n      <Link to=\"/\">Back to WelcomePage</Link>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}